<style>
@import './../CSS/motherland.css';
@import './../CSS/animation.css';
</style>
<template>
  <div class="profile">
    <h1 class="header-title">Enter a Name</h1>
    <div class="left-to-right-profile">ðŸ‘‰</div>
    <img class="logo anim" src="./../assets/logo-frhny.png">
    <img class="logo anim-1" src="./../assets/logo-frhny.png">
    <img class="logo anim-2" src="./../assets/logo-frhny.png">
    <img class="logo anim-3" src="./../assets/logo-frhny.png">
    <img class="logo anim-4" src="./../assets/logo-frhny.png">
    <form id="profile-name" align="center" method="post">
      <input v-model="name" type="text" placeholder="Name">
      <div class="button"><input v-on:click="submit" type="button" value="Submit"></div>
      </form>
  </div>
</template>
<script>
  export default {
    name:'profile',
    data: function (){
        return {
          name: "",
      }
    },
    components:{},
    methods:{
      submit: async function (){
        var url = 'http://findrealhumansnearyou.com/create_profile';
        var playerPicID = Math.floor((Math.random()*(66666)+10000));
        const response = await fetch(
          url+"", {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json;charset=utf-8'
          },
          body: JSON.stringify({
            'name': this.name,
            'picture': playerPicID
          })
        });
        const myJson = await response.json();
        window.localStorage.setItem("playerID", myJson.playerID)
        window.localStorage.setItem("playerName", this.name)
        window.localStorage.setItem("playerPictureURL", `https://www.thiswaifudoesnotexist.net/example-${playerPicID}.jpg`)
        window.location.href='#/pickupline'
      }
    }
  }
</script>